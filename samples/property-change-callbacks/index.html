<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0">
	<title>Polymer Samples - Property change callbacks</title>
	<script src="/bower_components/webcomponentsjs/webcomponents.js"></script>
	<link rel="import" href="/bower_components/polymer/polymer.html">
</head>
<body>
<x-custom>X-Custom</x-custom>

<dom-module is="x-custom">
  <style>
    .disabled {
      color:grey;
      font-style: italic;
    }

    .highlight {
      background-color: yellow;
    }
  </style>
</dom-module>

<script>
  Polymer({
    is: 'x-custom',

    properties: {
      disabled: {
        type: Boolean,
        observer: 'disabledChanged'
      },
      highlight: {
        observer: 'highlightChanged'
      }
    },
    disabledChanged: function(newValue, oldValue) {
      this.toggleClass('disabled', newValue);
      this.highlight = true;
    },
    highlightChanged: function() {
      this.classList.add('highlight');
      setTimeout(function() {
        this.classList.remove('highlight');
      }.bind(this), 300);
    }
  });

  document.addEventListener('DOMContentLoaded', function() {
    var xs = document.querySelector('x-custom');
    setTimeout(function() {
      xs.disabled = true;
    }, 500);
  });
</script>
</body>
</html>
